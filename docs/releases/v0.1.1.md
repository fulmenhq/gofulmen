# Release Notes - gofulmen v0.1.1

**Release Date**: October 17, 2025
**Release Type**: Feature Release - Foundry Module + Guardian Hooks + Security Hardening
**Status**: ✅ Ready for Release

## Overview

Version 0.1.1 adds the **Foundry** package with enterprise-grade foundation utilities, **Guardian hooks** integration for protected git operations, comprehensive **security audit remediation**, and **test coverage improvements** reaching 89.3%. This release also includes the **bootstrap symlink fix** and enhanced documentation with commit message style guidance.

## Features

### Foundry Package (Complete)

Enterprise-grade foundation utilities providing consistent cross-language implementations from Crucible catalogs:

#### Time Utilities

- **RFC3339Nano timestamps** with nanosecond precision
- Cross-language compatible time formatting
- `UTCNowRFC3339Nano()`, `FormatRFC3339Nano()`, `ParseRFC3339Nano()`

#### Correlation IDs

- **UUIDv7** time-sortable correlation IDs for distributed tracing
- Globally unique, time-ordered identifiers
- `GenerateCorrelationID()`, `MustGenerateCorrelationID()`, `ParseCorrelationID()`, `IsValidCorrelationID()`

#### Pattern Matching

- 20+ curated patterns from Crucible catalogs (email, slug, UUID, semver, etc.)
- Support for regex, glob, and literal pattern types
- `Match()`, `MustMatch()`, `Search()`, `CompiledRegex()`
- Pattern categories: ANSI, Domain, Path, Version Control, Security

#### MIME Type Detection

- Content-based detection with magic number sniffing
- Extension-based lookup for common file types
- Support for JSON, YAML, XML, CSV, plain text, and more
- `DetectMimeType()`, `GetMimeTypeByExtension()`, `IsSupportedMimeType()`

#### HTTP Status Helpers

- Status code grouping (1xx-5xx)
- Validation helpers (`IsSuccess()`, `IsClientError()`, `IsServerError()`)
- Reason phrase lookup (`GetReasonPhrase()`)
- `NewHTTPStatusHelper()`, `GetGroup()`, `Contains()`

#### Country Code Validation

- ISO 3166-1 support (Alpha-2, Alpha-3, Numeric)
- Case-insensitive lookups with normalization
- 249 countries with full metadata
- `GetCountry()`, `GetCountryByAlpha3()`, `ValidateCountryCode()`, `ListCountries()`

#### Catalog System

- Singleton global catalog with embedded data
- Offline operation (no network dependencies)
- Type-safe access via `GetDefaultCatalog()`
- Convenience functions: `GetPattern()`, `GetMimeType()`, `GetHTTPStatusHelper()`

**Test Coverage**: 85.8% (86 passing tests)

### Guardian Hooks Integration

Goneat guardian approval system integrated with git hooks for protected operations:

#### Pre-commit Hook

- Browser-based approval workflow for commit operations
- Scoped policy for `git.commit` operations
- 5-10 minute approval session timeout
- Cryptographic nonce-based approval flow

#### Pre-push Hook

- Enhanced approval workflow requiring reason for push operations
- Scoped policy for `git.push` operations
- 15 minute approval session timeout
- Branch-aware policies (main vs. feature branches)

#### Implementation

- `.goneat/hooks.yaml` manifest with make target integration
- Generated hooks in `.goneat/hooks/` (pre-commit, pre-push)
- Installed to `.git/hooks/` with guardian enforcement
- Tested workflow: Successfully intercepted and protected commits

**Benefits**:

- Prevents accidental commits/pushes on protected branches
- Provides audit trail for sensitive operations
- Supports team workflows with configurable policies
- Integrates seamlessly with existing make targets

### Security Improvements

Comprehensive security audit remediation addressing all findings:

#### Country Code Validation

- Explicit ASCII-range validation (A-Z only)
- Uppercase enforcement prevents bypass attempts
- Strict format checking for Alpha-2, Alpha-3, Numeric codes

#### UUIDv7 Enforcement

- Strict version checking (only v7 accepted)
- Timestamp monotonicity awareness
- Prevents UUID v4/v1 bypass attempts

#### Numeric Canonicalization

- IEEE 754 special-value handling (NaN, Infinity)
- Precision-aware comparison with epsilon tolerance
- Safe handling of edge cases in numeric operations

#### HTTP Client Safety

- Configurable RoundTripper support for request interception
- Timeout configuration and enforcement
- Redirect limit controls
- TLS verification options

#### Bootstrap Path Safety

- Symlink creation uses filepath.Clean for normalization
- Absolute path resolution before symlink creation
- Prevents relative path injection attacks

### Test Improvements

Significant test coverage improvements across core packages:

#### Schema Package

- **Before**: 9.9% coverage
- **After**: 53.5% coverage
- **Improvement**: +43.6 percentage points
- New tests:
  - `LoadJSONFile()`, `LoadYAMLFile()`, `LoadSchemaFile()`, `LoadSchemaFromDir()`
  - `ParseJSON()` with various data formats
  - `ValidationError`, `ValidationErrors`, `NewValidationError()`
  - Test fixtures for JSON/YAML schema loading

#### Logging Package

- **Before**: 50.8% coverage
- **After**: 54.2% coverage
- **Improvement**: +3.4 percentage points
- New tests:
  - All logging level methods (Trace, Debug, Info, Warn, Error)
  - `Named()` - named logger creation
  - `WithContext()` - context-aware logging

#### Foundry Package

- **Coverage**: 85.8% (86 passing tests)
- Comprehensive catalog verification tests
- Pattern matching, MIME detection, HTTP status, country code tests

#### Overall Coverage

- **Before**: 87.7%
- **After**: 89.3%
- **Improvement**: +1.6 percentage points
- **Status**: ✅ Approaches 90%+ target for v0.1.1

## Breaking Changes

None - fully backward compatible with v0.1.0.

## Migration Notes

No migration required. This release adds new functionality without modifying existing APIs.

### Upgrading from v0.1.0

```bash
go get -u github.com/fulmenhq/gofulmen@v0.1.1
```

## Known Limitations

### Cloud Storage (Deferred)

Cloud storage abstractions (S3, Azure Blob, GCS) were deferred pending ecosystem-wide discussion. See `.plans/roadmap/cloud-storage-deferral.md` for details.

**Rationale**: Cloud storage is an Extension tier feature (not Core), and requires cross-library design discussion to ensure consistency across gofulmen, pyfulmen, and tsfulmen.

**Timeline**: To be evaluated for v0.2.0+ after cross-library maintainer discussion.

## Dependencies

All dependencies remain stable from v0.1.0:

- **Go**: 1.21+
- **Crucible**: 2025.10.2
- External packages:
  - `github.com/google/uuid` (for UUIDv7 generation)
  - `github.com/santhosh-tekuri/jsonschema/v6` (for schema validation)
  - `go.uber.org/zap` (for structured logging)
  - `gopkg.in/yaml.v3` (for YAML support)

## Quality Gates

- [x] All 125+ tests passing
- [x] Coverage at 89.3% (approaches 90%+ target)
- [x] `make check-all` passed (sync, build, fmt, lint, test)
- [x] Code formatted with goneat
- [x] No linting issues
- [x] Foundry module compliant with Crucible standards
- [x] Security audit findings resolved
- [x] Bootstrap symlink fix verified
- [x] Guardian hooks tested and operational
- [x] Documentation complete
- [x] Proper agentic attribution

## Release Checklist

- [x] Version number set in VERSION (0.1.1)
- [x] CHANGELOG.md updated with v0.1.1 release notes
- [x] RELEASE_NOTES.md updated
- [x] docs/releases/v0.1.1.md updated
- [x] All tests passing
- [x] Code quality checks passing
- [x] Guardian hooks installed and tested
- [x] Bootstrap symlink fix verified
- [x] Security audit remediation complete
- [x] Documentation reviewed
- [x] README.md includes Foundry package
- [x] Foundry requirements verified (no gaps)
- [x] Commit message style guidance added
- [x] Crucible sync to 2025.10.2 complete
- [ ] Git tag created (v0.1.1) - pending
- [ ] Tag pushed to GitHub - pending

## Contributors

- **Foundation Forge** (@foundation-forge) - Foundry implementation, guardian hooks, security remediation, test improvements, bootstrap fix
- **@3leapsdave** - Supervision, architecture guidance, release management

## Related Documentation

- [Foundry Package Documentation](../README.md#foundry-package)
- [Bootstrap Journal](../development/bootstrap.md) - v0.1.0-v0.1.1 journey documentation
- [Operations Guide](../development/operations.md) - Version management and development workflow
- [Repository Operations SOP](../crucible-go/sop/repository-operations-sop.md) - Commit message style guidance
- [Agentic Attribution Standard](../crucible-go/standards/agentic-attribution.md)
- [Fulmen Helper Library Standard](../crucible-go/architecture/fulmen-helper-library-standard.md)
- [Module Catalog](../crucible-go/architecture/modules/README.md)
- [Cloud Storage Deferral Decision](../../.plans/roadmap/cloud-storage-deferral.md)
- [CHANGELOG](../../CHANGELOG.md)

## Next Steps

### v0.1.2+ (Planned)

- Additional coverage improvements for pathfinder and bootstrap packages
- Documentation enhancements
- Performance optimizations

### v0.2.0+ (Future)

- Cloud storage evaluation (pending cross-library discussion)
- Additional Crucible catalog integrations
- Advanced pattern matching features

---

**Generated by**: Foundation Forge
**Supervised by**: @3leapsdave
**Release Manager**: @3leapsdave
