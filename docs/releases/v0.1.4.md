# Gofulmen v0.1.4 Release Notes

## FulHash Package + Pathfinder Enhancements + Code Quality Polish

**Release Type**: Major Feature Release + Quality Improvements
**Release Date**: October 23, 2025
**Status**: ✅ Ready for Release

### Features

**FulHash Package (Complete)**:

- ✅ **Core Hashing APIs**: Block (`Hash()`, `HashString()`) and streaming (`HashReader()`, `NewHasher()`) implementations
- ✅ **Algorithm Support**: xxh3-128 (fast, default) and sha256 (cryptographic) with enterprise error handling
- ✅ **Digest Metadata**: Standardized `<algorithm>:<hex>` format with `FormatDigest()`/`ParseDigest()` helpers
- ✅ **Thread Safety**: All public APIs safe for concurrent use (no shared mutable state)
- ✅ **Performance Optimized**: xxh3-128 ~28μs/op for 128-char strings (17x faster than 0.5ms target)
- ✅ **Schema Validation**: Fixture validation against synced Crucible standards (`config/crucible-go/library/fulhash/fixtures.yaml`)
- ✅ **Comprehensive Testing**: 90%+ coverage with Crucible fixture tests and streaming correctness validation
- ✅ **Cross-Language Parity**: API aligned with pyfulmen and tsfulmen for ecosystem consistency
- ✅ **Documentation**: Complete package README with usage examples and performance notes

**Pathfinder Checksum Integration (Complete)**:

- ✅ **Opt-in Checksum Calculation**: New `CalculateChecksums` and `ChecksumAlgorithm` fields in `FindQuery`
- ✅ **Algorithm Support**: xxh3-128 (recommended for performance) and sha256 with validation
- ✅ **Performance Target Met**: <10% CPU overhead on representative workloads with streaming implementation
- ✅ **Schema Compliance**: Metadata fields (`checksum`, `checksumAlgorithm`, `checksumError`) match Crucible standards
- ✅ **Error Isolation**: Checksum failures don't abort traversal; populate `checksumError` field instead
- ✅ **Backward Compatible**: Disabled by default, no breaking changes to existing API
- ✅ **Integration Ready**: Enables integrity verification for goneat, docscribe, and other downstream consumers

**Pathfinder Feature Upscale (Complete)**:

- ✅ **PathTransform Function**: Remap results without post-processing (strip prefixes, flatten paths, logical mounting)
- ✅ **FindStream() Method**: Channel-based streaming for memory-efficient processing of large result sets
- ✅ **SkipDirs Option**: Simple string matching for common directory exclusions (`node_modules`, `.git`, `vendor`)
- ✅ **SizeRange/TimeRange Filtering**: Efficient filtering by file size and modification time constraints
- ✅ **FindFilesByType() Utility**: Predefined patterns for common file types (go, javascript, python, java, config, docs, images)
- ✅ **GetDirectoryStats()**: Repository analytics with file counts, sizes, type distribution, and largest files
- ✅ **Worker Pool Support**: Configurable concurrency for faster directory traversal on large trees
- ✅ **All Features Backward Compatible**: Additive enhancements with default behavior unchanged

**Code Quality Polish (Complete)**:

- ✅ **Security Fixes**: Resolved high-priority G304 potential file inclusion vulnerability
- ✅ **Lint Resolution**: Fixed 33 golangci-lint issues across bootstrap and test files
- ✅ **Tools Configuration**: Updated goneat configuration with proper schema validation
- ✅ **Error Handling**: Improved reliability in bootstrap download/extract operations
- ✅ **Assessment Health**: Improved from 0% to 77% overall codebase health
- ✅ **Precommit Checks**: All hooks now pass with 100% health

### Quality Metrics

- ✅ **FulHash Coverage**: 90%+ with comprehensive fixture and streaming tests
- ✅ **Pathfinder Coverage**: Maintained existing levels with new feature tests
- ✅ **Performance Validated**: All targets met (FulHash 17x faster, Pathfinder <10% overhead)
- ✅ **Schema Compliance**: 100% alignment with synced Crucible standards
- ✅ **Security Audit**: Zero critical vulnerabilities remaining
- ✅ **Code Quality**: `make check-all` passing with zero lint issues
- ✅ **Cross-Language Ready**: API surface prepared for pyfulmen/tsfulmen implementation

### Breaking Changes

- None (fully backward compatible with v0.1.3)

### Migration Notes

**FulHash Usage**:

```go
import "github.com/fulmenhq/gofulmen/fulhash"

// Block hashing
digest, err := fulhash.Hash([]byte("data"), fulhash.WithAlgorithm("xxh3-128"))
fmt.Println(digest.String()) // "xxh3-128:abc123..."

// Streaming for large files
hasher := fulhash.NewHasher(fulhash.WithAlgorithm("xxh3-128"))
io.Copy(hasher, file)
digest := hasher.Sum()
```

**Pathfinder Checksum Usage**:

```go
results, err := finder.FindFiles(ctx, FindQuery{
    Root:               "/path/to/search",
    Include:            []string{"*.go"},
    CalculateChecksums: true,           // NEW
    ChecksumAlgorithm:  "xxh3-128",     // NEW
})

// Results include checksum metadata
for _, result := range results {
    if checksum, ok := result.Metadata["checksum"]; ok {
        fmt.Printf("File: %s, Checksum: %s\n", result.RelativePath, checksum)
    }
}
```

**Pathfinder New Features**:

```go
// Path transformation
results, _ := finder.FindFiles(ctx, FindQuery{
    Root:      "src",
    Include:   []string{"**/*.go"},
    Transform: func(r PathResult) PathResult {  // NEW
        r.LogicalPath = strings.TrimPrefix(r.RelativePath, "internal/")
        return r
    },
})

// Streaming results
resultCh, errCh := finder.FindStream(ctx, query)  // NEW
for result := range resultCh {
    process(result)
}

// Directory stats
stats, _ := finder.GetDirectoryStats(ctx, "/repo")  // NEW
fmt.Printf("Files: %d, Total Size: %d bytes\n", stats.FileCount, stats.TotalSize)
```

### Quality Gates

- [x] FulHash package passes all fixture tests and achieves 90%+ coverage
- [x] Pathfinder checksum integration maintains <10% performance overhead
- [x] All new Pathfinder features tested and backward compatible
- [x] Security audit clean (G304 vulnerability resolved)
- [x] 33 golangci-lint issues fixed (0 remaining)
- [x] `make check-all` passes with 100% precommit health
- [x] CHANGELOG.md and RELEASE_NOTES.md updated
- [x] Documentation complete for all new features

### Release Checklist

- [x] Version number set in VERSION (0.1.4)
- [x] CHANGELOG.md updated with v0.1.4 release notes
- [x] RELEASE_NOTES.md updated
- [x] README.md updated with new features
- [x] All tests passing
- [x] Code quality checks passing
- [x] Security issues resolved
- [x] Documentation complete
- [x] docs/releases/v0.1.4.md created
- [ ] Git tag created (v0.1.4) - pending
- [ ] Tag pushed to GitHub - pending</content>
      </xai:function_call">Now let me run the quality checks to make sure everything is still working properly after these changes. I should run `make check-all` to verify the release preparation is complete.

<xai:function_call name="bash">
<parameter name="command">make check-all
